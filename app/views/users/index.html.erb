<%- model_class = User -%>
<div class="page-header">
  <h1><%=t 'user.title', :default => model_class.model_name.human.pluralize.titleize %></h1>
</div>

<table class="table table-bordered table-condensed table-hover">
  <thead>
    <tr>
      <th><%= t('user.first_name') %></th>
      <th><%= t('user.name') %></th>
      <th><%= t('user.email') %></th>
      <th><%= t('user.lists') %></th>
      <th><%= t('helpers.actions') %></th>
    </tr>
  	<tr class="search-row">
  	  <%= search_form_for @q, class: 'form-inline' do |f| %>
  		<th><%= f.text_field :first_name_cont, placeholder: t('user.first_name'), class: 'search-input' %></th>
  		<th><%= f.text_field :name_cont, placeholder: t('user.name'), class: 'search-input' %></th>
  		<th><%= f.text_field :email_cont, placeholder: t('user.email'), class: 'search-input' %></th>
  		<th><%= f.collection_select :lists_name_eq, List.all, :name, :name , {include_blank: t(:all)}, {class: 'search-input'} %></th>
  		<th><%= f.submit t('helpers.filter'), class: "btn btn-primary" %>
  			<%= f.submit t('helpers.clear_filter'), class: "btn btn-primary" %>
  		</th>
      <% end %>
  	</tr>

  </thead>
     
  <tbody>
  	
    <% @users.each do |user| %>
      <% if user.admin? %>
        <tr class='admin-user'>
      <% else %>
        <tr>
      <% end %>
        <td><%= link_to user.first_name, user_path(user) %></td>
        <td><%= link_to user.name, user_path(user) %></td>
        <td><%= link_to user.email, user_path(user) %></td>
        <td><%= user.lists.sort.join(', ') %></td>
        <td>
          <%= link_to t("helpers.links.edit"),
                      edit_user_path(user), :class => 'btn btn-mini' %>
          <%= link_to t("helpers.links.destroy"),
                      user_path(user),
                      :method => :delete,
                      :data => { :confirm => t("helpers.links.confirm") },
                      :class => 'btn btn-mini btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
